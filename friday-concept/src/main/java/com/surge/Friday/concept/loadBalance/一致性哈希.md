##哈希算法
哈希算法作用：在分布式系统中解决负载均衡的问题时，可以使用哈希算法，使一部分请求可以落到同一台服务器上，这样每一台机器分别处理一部分请求，起到负载均衡的作用。
普通Hash取余算法，在服务器上线或者下线时，会使原来的部分映射关系失效，导致线上的负载均衡结果前后不一致。

##一致性哈希
一致性Hash：则是利用Hash环进行了改进。使节点能够在机器新增或者减少时，保持路由的一致性或者单调性。
单调性：一个已经被分配过的请求，在机器节点发生变化时，只能被原有的节点或者其相邻的节点进行处理。

##哈希倾斜问题
当线上的机器数量较少时，也就是圆环上的节点数量较少的时候，会发生机器处理请求数量差距过大的问题，也就是哈希倾斜问题。
原因：节点分布不均匀。
解决办法：当物理节点不够时，引入虚拟节点的概念。使物理和虚拟节点均匀的分布在圆环上。

##均匀一致性哈希
均匀一致性hash：如果服务器有N台，客户端的hash值有M个，那么每个服务器应该处理大概M/N个用户的。也就是每台服务器负载尽量均衡。
![avatar](/ConsisitentHash.webp)